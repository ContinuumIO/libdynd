//
// Copyright (C) 2011-14 Irwin Zaid, DyND Developers
// BSD 2-Clause License, see LICENSE.txt
//

#ifndef _DYND__LIST_HPP_
#define _DYND__LIST_HPP_

#include <dynd/pp/gen.hpp>
#include <dynd/pp/if.hpp>
#include <dynd/pp/token.hpp>

#define DYND_PP_IS_EMPTY(...) DYND_PP__IS_EMPTY(DYND_PP_HAS_COMMA(__VA_ARGS__), \
    DYND_PP_HAS_COMMA(DYND_PP_TO_COMMA __VA_ARGS__), DYND_PP_HAS_COMMA(__VA_ARGS__ ()), \
    DYND_PP_HAS_COMMA(DYND_PP_TO_COMMA __VA_ARGS__ ()))

#define DYND_PP__IS_EMPTY(A, B, C, D) DYND_PP_HAS_COMMA(DYND_PP_CAT_5(DYND_PP__IS_EMPTY_, \
    A, B, C, D))
#define DYND_PP__IS_EMPTY_0000 DYND_PP__IS_EMPTY_0000
#define DYND_PP__IS_EMPTY_0001 ,
#define DYND_PP__IS_EMPTY_0010 DYND_PP__IS_EMPTY_0010
#define DYND_PP__IS_EMPTY_0011 DYND_PP__IS_EMPTY_0011
#define DYND_PP__IS_EMPTY_0100 DYND_PP__IS_EMPTY_0100
#define DYND_PP__IS_EMPTY_0101 DYND_PP__IS_EMPTY_0101
#define DYND_PP__IS_EMPTY_0110 DYND_PP__IS_EMPTY_0110
#define DYND_PP__IS_EMPTY_0111 DYND_PP__IS_EMPTY_0111
#define DYND_PP__IS_EMPTY_1000 DYND_PP__IS_EMPTY_1000
#define DYND_PP__IS_EMPTY_1001 DYND_PP__IS_EMPTY_1001
#define DYND_PP__IS_EMPTY_1010 DYND_PP__IS_EMPTY_1010
#define DYND_PP__IS_EMPTY_1011 DYND_PP__IS_EMPTY_1011
#define DYND_PP__IS_EMPTY_1100 DYND_PP__IS_EMPTY_1100
#define DYND_PP__IS_EMPTY_1101 DYND_PP__IS_EMPTY_1101
#define DYND_PP__IS_EMPTY_1110 DYND_PP__IS_EMPTY_1110
#define DYND_PP__IS_EMPTY_1111 DYND_PP__IS_EMPTY_1111

#define DYND_PP_LEN(...) DYND_PP_IF_ELSE(DYND_PP_IS_EMPTY(__VA_ARGS__))(0)(DYND_PP_LEN_NONZERO(__VA_ARGS__))

#endif
